(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{247:function(e,a,t){"use strict";t.r(a);var n=t(14),o=t.n(n),i={name:"NewPersonal",mounted:function(){this.getselects()},data:function(){return{data:{nombre:"",apellido:"",cedula:"",telefono:"",avatar:"",asignacion:"",departamento:""},imageName:"",loading:!1,selection:1,rules:[function(e){return!!e||"campo requerido."}],rulesci:[function(e){return!!e||"campo requerido."},function(e){return/(?=.*\d)/.test(e)||"favor introducir valores Numericos"}],rulestelefono:[function(e){return!!e||"campo requerido."},function(e){return/(?=.*\d)/.test(e)||"favor introducir valores Numericos"}],file:[function(e){return!e||e.size<2e6||"Su imagen de perfil no pude ser mayor 2 MB!"}],asignaciones:[],departamentos:[]}},methods:{pickFile:function(){this.$refs.image.click()},getselects:function(){var e=this;axios.get("/api/get-asignaciones").then((function(a){e.asignaciones=a.data})),axios.get("/api/get-departamentos").then((function(a){e.departamentos=a.data}))},obtenerimagen:function(e){var a=e.target.files[0];this.data.avatar=a,this.imageName=a.name,this.cargarimagen(a)},cargarimagen:function(e){var a=this,t=new FileReader;t.onload=function(e){a.data.avatar=e.target.result},t.readAsDataURL(e)},guardar:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,axios.post("/api/personal/store",this.data).then((function(a){!0===a.data&&(e.loading=!1,o.a.fire({position:"center",icon:"success",title:"solicitud registrada con exito",showConfirmButton:!1}),e.$refs.form.reset())})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)})))}},computed:{}},r=t(9),l=t(10),s=t.n(l),c=t(56),d=t(76),u=t(1),m=t(226),p=t(228),v=t(78),f=t(236),g=t(72),h=t(232),x=t(239),b=t(24),w=Object(r.a)(i,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-card",{staticClass:"mx-auto",attrs:{loading:e.loading,"max-width":"100%",raised:""}},[t("v-card-title",[t("v-icon",{attrs:{color:"nav"}},[e._v("mdi-account-plus")]),e._v(" AÃ±adir Personal  ")],1),e._v(" "),t("v-card-text",[t("v-form",{ref:"form"},[t("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[t("v-col",[t("v-text-field",{attrs:{label:"Nombre","prepend-icon":"mdi-human-male",rules:e.rules,hint:"Nombre"},model:{value:e.data.nombre,callback:function(a){e.$set(e.data,"nombre",a)},expression:"data.nombre"}})],1),e._v(" "),t("v-col",[t("v-text-field",{attrs:{label:"Apellido","prepend-icon":"mdi-human-handsdown",rules:e.rules,hint:"Apellido"},model:{value:e.data.apellido,callback:function(a){e.$set(e.data,"apellido",a)},expression:"data.apellido"}})],1)],1),e._v(" "),t("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[t("v-col",[t("v-text-field",{attrs:{label:"Cedula","prepend-icon":"mdi-contacts",rules:e.rulesci,hint:" cedula de identidad"},model:{value:e.data.cedula,callback:function(a){e.$set(e.data,"cedula",a)},expression:"data.cedula"}})],1),e._v(" "),t("v-col",[t("v-text-field",{attrs:{"prepend-icon":"mdi-phone",label:"Telefono",rules:e.rulestelefono,hint:" numero telefonico"},model:{value:e.data.telefono,callback:function(a){e.$set(e.data,"telefono",a)},expression:"data.telefono"}})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("v-text-field",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"imagen de perfil","prepend-icon":"mdi-camera",label:"Avatar"},on:{click:e.pickFile},model:{value:e.imageName,callback:function(a){e.imageName=a},expression:"imageName"}}),e._v(" "),t("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",rules:e.file,accept:"image/*"},on:{change:e.obtenerimagen}})],1),e._v(" "),t("v-col",[t("v-select",{attrs:{items:e.asignaciones,"item-text":"asignacion","item-key":"asignacion.id",rules:e.rules,"prepend-icon":"mdi-shopping","item-value":"id",label:"selecione un cargo"},model:{value:e.data.asignacion,callback:function(a){e.$set(e.data,"asignacion",a)},expression:"data.asignacion"}})],1)],1),e._v(" "),t("v-row",[t("v-col",[t("v-select",{attrs:{items:e.departamentos,"item-text":"departamento","item-key":"departamento.id","prepend-icon":"mdi-domain","item-value":"id",rules:e.rules,label:"seleccione un departamento"},model:{value:e.data.departamento,callback:function(a){e.$set(e.data,"departamento",a)},expression:"data.departamento"}})],1)],1),e._v(" "),t("v-row",[t("v-container",{staticClass:"text-center"},[t("v-btn",{attrs:{color:"info"},on:{click:e.guardar}},[e._v("\n      \t\t\t\tRegistrar\n      \t\t\t")])],1)],1)],1)],1),e._v(" "),t("v-divider",{staticClass:"mx-4"})],1)],1)}),[],!1,null,null,null);a.default=w.exports;s()(w,{VBtn:c.a,VCard:d.a,VCardText:u.c,VCardTitle:u.d,VCol:m.a,VContainer:p.a,VDivider:v.a,VForm:f.a,VIcon:g.a,VRow:h.a,VSelect:x.a,VTextField:b.a})}}]);